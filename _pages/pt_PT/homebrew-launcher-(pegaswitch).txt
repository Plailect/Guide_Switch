---
title: "Homebrew Launcher (PegaSwitch)"
---

{% include toc title="Tabela de Conteúdos" %}

### Leitura Obrigatória

Nos firmwares 1.0.0 - 2.3.0, o Homebrew Launcher está atualmente "instalado" na tua consola através de um script executado através do [PegaSwitch](https://github.com/ReSwitched/PegaSwitch). 

Isto permitir-te-á aceder ao Homebrew Launcher através da aplicação Álbum *até a tua consola reiniciar*, depois na qual terás que *voltar a executar o script* para restaurar a funcionalidade do Homebrew Launcher. 

Depois de um reinício, terás que voltar a executar esta vulnerabilidade secundária de forma a reativar o acesso ao Homebrew Launcher na tua consola. Adicionalmente, nota que esta vulnerabilidade secundária também impede-te que jogues jogos de retalho enquanto estiver ativa (*até a tua consola ser reiniciada*).
 
Se estiveres familiarizado com o "jailbreaking" de dispositivos iOS, esta ideia poderia ser considerada análoga a um "tethered jailbreak".

Nota que, apesar destas instruções também funcionarem na versão do firmware 3.0.0, em vez disso seria muito mais fácil seguir [Homebrew Launcher (Instalador)](homebrew-launcher-(installer)) para essa versão do firmware.
{: .notice--info}

### O que precisas

* **Firmware 1.0.0:** O lançamento 1.0.0 do [nx-hbmenu](https://github.com/switchbrew/nx-hbmenu/releases/tag/v1.0.0){:target="_blank"} (*o ultimo nx-hbmenu atualmente rebenta na 1.0.0*)
* **Firmware 2.0.0 - 2.3.0:** A ultima versão do [nx-hbmenu](https://github.com/switchbrew/nx-hbmenu/releases/latest){:target="_blank"}
* A ultima versão do [PegaSwitch](https://github.com/reswitched/PegaSwitch)
* A ultima versão do [node.js](https://nodejs.org/en/)
* [hbl.nsp]({{ "/images/hbl.nsp" | absolute_url }}){:download}
* [nsp.js]({{ "/images/nsp.js" | absolute_url }}){:download}

### Instruções

#### Secção I - Trabalho Preparatório

1. Desliga a tua consola
1. Insere o teu cartão SD no teu computador
1. Copia o `hbmenu.nro` do arquivo nx-hbmenu `.zip` para a raiz do teu cartão SD
1. Copia o `hbl.nsp` para a raíz do teu cartão SD
1. Cria uma pasta com o nome `switch` na raiz do teu cartão SD se ainda não existir
1. Reinsere o cartão SD na tua consola
1. Liga a tua consola

#### Secção II - Configuração do PegaSwitch
1. Depois de transferires a ultima versão do PegaSwitch, copia o `nsp.js` para `PegaSwitch/usefulscripts`
1. Inicia o cmd/terminal e `cd` para a pasta do PegaSwitch
1. Executa o `npm install`; isto irá instalar os módulos node dos quais o PegaSwitch depende
1. Inicia o PegaSwitch executando o comando correspondente ao teu sistema operativo
  + **Linux/macOS:** Executa `sudo node start.js` e toma nota do endereço IP que revela
  + **Linux/macOS:** Executa `node start.js` e toma nota do endereço IP que revela
1. Sai do PegaSwitch ao introduzires Ctrl+C duas vezes

#### Secção III - Configuração do DNS

Nota que estes servidores DNS precisarão de ser definidos em cada rede que conectares a tua consola para ela poder acionar a vulnerabilidade.
{: .notice--info}

1. Abre as Definições da Consola
1. Navega até `Internet` -> `Definições da Internet`
1. Seleciona a tua rede atual
  + Isto é indicado por uma marca verde verificada ao lado da rede
1. Seleciona "Alterar Configurações"
1. Define "Definições do DNS" para "Manual"
1. Definir "DNS Primário" e "DNS Secundário" do endereço IP apresentado pelo PegaSwitch
  + Isto habitualmente está no formato de `192.168.1.XXX`
1. Guardar as configurações de rede
1. Sai das Definições do Sistema

#### Secção IV - instalação Inicial

Nota que terás de voltar a executar esta secção da vulnerabilidade após cada reinício de forma a reativar o acesso ao Homebrew Launcher.

##### Opção i - Versão do Firmware 1.0.0

Nota que esta opção só se aplica a dispositivos com a versão do firmware 1.0.0; se tiveres a versões 2.0.0 - 2.3.0, desloca-te até à "Opção ii - Versões do Firmware 2.0.0 - 2.3.0".

Nota que o firmware 1.0.0 atualmente requer uma cópia japonesa do Puyo Puyo Tetris S de forma a conectar com o PegaSwitch pela primeira vez. Depois disso, um método alternativo de conectar ao PegaSwitch tornará-se disponível.
{: .notice--info}

1. Assegura-te de que a tua firewall não bloqueia nenhumas conexões de entrada à porta UDP 53 ou às portas TCP 80 e 8100
1. Inicia o PegaSwitch na tua linha de comandos/terminal ao digitar `sudo node start.js --webapplet`
1. Abre Puyo Puyo Tetris S na tua consola
1. Prime A e depois prime R
1. Prime A e toca no item do menu mais abaixo rotulado "お問い合わせ先"
1. Toca no logótipo da SEGA no canto inferior esquerdo; isto irá abrir a webapplet e carregar a página web do PegaSwitch.
1. PegaSwitch on your PC should show that your device has connected and show its firmware version and MAC address in the prompt.
1. In PegaSwitch on your computer, type `evalfile usefulscripts/nsp.js`
1. Press the Home button to exit
1. Launch the Album applet
1. If the exploit was successful, the Homebrew Launcher will launch

##### Option ii - Firmware Versions 2.0.0 - 2.3.0

Note that this option only applies devices with firmware versions 2.0.0 - 2.3.0; if you have firmware version 1.0.0, scroll up to "Option i - Firmware Versions 1.0.0".

1. Launch PegaSwitch in your command/terminal prompt by typing `sudo node start.js` 
1. Navega até `Internet` -> `Definições da Internet`
1. Seleciona a tua rede atual
1. Select "Connect to this Network"
1. If the DNS connection was successful, you will see the message "Registration is required to use this network."
1. Select "Next"
1. The PegaSwitch webpage will load
1. PegaSwitch on your PC should show that your device has connected and show its firmware version and MAC address in the prompt.
1. Run `evalfile usefulscripts/nsp.js`
1. Press the Home button to exit
1. Launch the Album applet
1. If the exploit was successful, the Homebrew Launcher will launch 

#### Section V - Fake News (Optional)

As you must re-run the "Initial Installation" section of the exploit after each reboot, it would be ideal if there was a more convenient way of connecting to PegaSwitch.

Fortunately, we can install a fake entry into the News applet (the "Fake News" exploit) which can make connecting to PegaSwitch significantly easier.

Note that modifying system save data can **brick** your device permanently if you are not careful! It is highly recommended to avoid editing the `installFakeNews.js` script to avoid damaging your device.
{: .notice--warning}

1. In order to do so, connect your device to PegaSwitch as in Section III
1. Once connected to PegaSwitch, run `evalfile usefulscripts/installFakeNews.js` and wait for it to finish
1. Reboot your device and you should see a PegaSwitch news entry
1. To trigger Fake News, start PegaSwitch on your PC with `sudo node start.js --webapplet` and then select the Fake News entry on your device and tap to open the "video"

___


Note that, currently, homebrew development is in a very early state with a very limited number of applications.

You can find available applications on [switchbrew](http://switchbrew.org/index.php?title=Homebrew_Applications), [/r/SwitchHacks on reddit](https://www.reddit.com/r/SwitchHacks/), or [Switch Homebrew on GBAtemp](https://gbatemp.net/forums/285/).

To install homebrew applications, simply copy the homebrew `.nro` file to the `/switch/` folder on your SD card.

___

You can now launch the Homebrew Launcher by launching the Album application from your device's home menu (*until your device is rebooted*).
{: .notice--success}

You will now be unable to launch retail cartridge or eShop games (*until your device is rebooted*).
{: .notice--warning}

You will need to re-run `evalfile usefulscripts/nsp.js` with PegaSwitch (using any browser applet) after each reboot in order to re-enable Homebrew Launcher access on your device.
{: .notice--warning}

For regular homebrew and development progress summaries, check the [ReSwitched Weekly](https://reswitchedweekly.github.io/) blog regularly.
{: .notice--primary}

For information on contributing to homebrew development as a developer, check out the [Homebrew Development](homebrew-development) page.
{: .notice--primary}
