---
title: "PegaSwitch"
---

{% termasuk judul toc="Table of Contents" %}

### Bacaan yang Perlu Dibaca

PegaSwitch is a developer-focused exploitation toolkit for the Switch developed by ReSwitched. Hal ini kompatibel dengan versi firmware 1.0.0 - 3.0.0.

Toolkit ini menggunakan kombinasi kerentanan untuk mengambil alih browser yang berbasis WebKit, memberi pengguna sebuah shell yang dapat digunakan untuk membaca / menulis memori, memanggil fungsi asli, dan sebaliknya mengeksplorasi fungsionalitas Switch.

Perhatikan bahwa penggunaan homebrew exploit saat ini memiliki efek samping untuk merusak perangkat Mii Database Anda. Meskipun efek ini tidak berbahaya, namun ini akan mengakibatkan hilangnya Miis yang dibuat pengguna.
{: .notice--warning}

### Apa yang Anda Butuhkan

* Sistem operasi yang didukung
  + MacOS dan sebagian besar distro linux didukung
  + Windows is best supported using a [Windows Subsystem for Linux](https://docs.microsoft.com/en-us/windows/wsl/install-win10) distribution
* Sistem kontrol versi [git](https://git-scm.com/)
* The [Node.JS](https://nodejs.org/en/download/package-manager/) JavaScript runtime (current release)

### Instruksi

#### Section I - Network Configuration

PegaSwitch works by hosting a [captive portal](https://en.wikipedia.org/wiki/Captive_portal) using DNS redirection.

For this to work, your device must be able to connect to your PC over the network.

1. Ensure no other applications are bound to UDP port 53 or TCP ports 80 and 8100
  + WSL: look at the "Listening Ports" section of the "Network" tab in `resmon.exe`
  + Linux / MacOS: view the output of `sudo netstat -tulpn`
1. Ensure your firewall does not block incoming connections to any of these ports

#### Section II - Running PegaSwitch

~~~ bash
# kloning repositori
git clone https://github.com/reswitched/pegaswitch

# Memasang dependensi
cd pegaswitch
npm install

# start PegaSwitch
# Windows users: omit the 'sudo'
sudo node start.js
~~~

#### Section III - DNS Configuration

Note that these DNS servers will need to be set on each network you connect your device to for it to be able to trigger the exploit.
{: .notice--info}

1. Get your PC's IP address with `ifconfig` (or `ipconfig` on windows)
1. Launch System Settings on your device
1. Arahkan ke `Internet` -> `Internet Settings`
1. Pilih jaringan Anda saat ini
  + Ini ditandai dengan tanda centang hijau di sebelah jaringan
1. Pilih "Change Settings"
1. Atur "DNS Settings" ke "Manual"
1. Set "Primary DNS" and "Secondary DNS" to your PC's IP address
1. Simpan pengaturan jaringan
1. Return to `Internet Settings`

#### Section IV - Initial Connection

1. Arahkan ke `Internet` -> `Internet Settings`
1. Pilih jaringan Anda saat ini
1. Pilih "Connect to this Network"
1. Jika koneksi DNS berhasil, Anda akan melihat pesan "Registration is required to use this network."
1. Pilih "Next"
1. Halaman web PegaSwitch akan dimuat
1. If the exploit was successful, you will now have a PegaSwitch shell connected to your console

#### Bagian V - Alternatif Browser Applet (Opsional)

There are actually [multiple](http://switchbrew.org/index.php?title=Internet_Browser#Browser_Applets) internet browsers on the Switch, and any of them can be used to trigger the browser exploit.

While we used the connection test browser applet to initially trigger the exploit, it may be more convenient in the future to use another browser applet.

Triggering the browser exploit using either of these methods will have the same effect as triggering the exploit through the Connection Test method we used before.

##### eShop Sign In Prompt

Untuk menggunakan metode ini, buat akun kedua di perangkat Anda. Jangan hubungkan ke Akun Nintendo.

1. Luncurkan Nintendo eShop
1. Pilih akun kedua
1. Pilih "Sign In and link"
1. Applet browser akan diluncurkan

##### Game Update Prompt

Untuk menggunakan metode ini, Anda harus memiliki setidaknya satu game di layar utama Anda.

Perhatikan bahwa, jika Anda tidak terhubung ke server DNS yang benar, metode ini akan *memperbarui* perangkat Anda. Hal ini berbahaya!
{: .notice--danger}

1. Press (+) with any game highlighted
1. Pada tab "Software Update", pilih "Via the Internet"
1. Applet browser akan diluncurkan

___

You can now easily connect to your device using the PegaSwitch environment.
{: .notice--success}

For debugging purposes, you may want to [enable extra error info](troubleshooting#enable-extra-error-info).
{: .notice--info}

### Return to [Homebrew Development](homebrew-development)
{: .notice--primary}
